{% extends "layout.html" %}

{% block title %}
    Add an Expense
{% endblock %}

{% block head %}
<!-- This makes the whole table lines a clickable link -->
<style>
  td a { 
    display: block; 
  }
</style>
{% endblock %}

{% block main %}
      <div class="starter-template text-center py-5 px-3">
        <h1>Expenses</h1>
        <p class="lead">List of expenses.<br> Select by clicking any row.</p>
      </div>
    
      <div class="table-responsive">
        <table class="table table-hover text-nowrap">
          <caption>All expenses posted with date </caption>
          <!-- <thead class="table-success"> -->
          <thead class="table-secondary">
            <tr>
              <th scope="col">Id</th>
              <th scope="col">Date</th>
              <th scope="col">Description</th>
              <th scope="col">Category</th>
              <th scope="col">Account</th>
              <th scope="col" style="text-align: right;">Amount</th>
              <th scope="col">Checked</th>
            </tr>
          </thead>
          <tbody id="searchable_table">
            {% for items in table_list_data %}
            <tr>
              <th scope="row">{{ items[0] }}</th>
              <td style="text-align: left;"><a href="/view" style="color: inherit; text-decoration: none;">{{ items[1] }}</a></td>
              <td style="text-align: left;"><a href="/view" style="color: inherit; text-decoration: none;">{{ items[2] }}</a></td>
              <td style="text-align: left;"><a href="/view" style="color: inherit; text-decoration: none;">{{ items[5] }}</a></td>
              <td style="text-align: left;"><a href="/view" style="color: inherit; text-decoration: none;">{{ items[4] }}</a></td>
              <td style="text-align: right;"><a href="/view" style="color: inherit; text-decoration: none;">{{ items[3] }}</a></td>
              <td class="text-success" style="text-align: left;"><a href="/view" style="color: inherit; text-decoration: none;">Ok</a></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>


    <div class="h7 col-md-4">Search the table: </div>
      <input class="h7 col-md-6" id="st_" type="text" placeholder="Search here">
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

    <!-- Script for searchable table -->
    <script src="form-validation.js"></script>

    <!-- Or  -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>  
    <script> 
      $(document).ready(function() { 
          $("#st_").on("keyup", function() { 
              var value = $(this).val().toLowerCase(); 
              $("#searchable_table tr").filter(function() { 
                  $(this).toggle($(this).text() 
                  .toLowerCase().indexOf(value) > -1) 
              }); 
          }); 
      }); 
    </script> 

{% endblock %}

</html>
